<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src="js/jquery-3.3.1.js"></script>
	<script type="text/javascript" src="../html-js/tool.js"></script>
<script type="text/javascript">
	$(function(){
        /*
            1. url
            2. 要发送的参数，可以是字符串也可以是json
            3. 响应处理函数
            4. dataType(可选) 服务器返回的数据类型(text|json|xml|html|script)
            $.ajax()
        */
		$.ajax({
			"url" : "http://localhost:8080/jdc/Servlet1",
			"type" : "get" ,
			"data" : {"t":"pypl" , "abc":"123" , "uu":"777"},
			//"data" : "t=pypl&abc=123&uu=777" , 
			"dataType" : "json" ,
			"success" : function(json){
               var bean= json.data.customers
				Ulog.i("json",JSON.stringify(json));
				for(var i = 0 ; i < bean.length ; i++){
					$("#container").append("<h1>" + bean[i].name + "</h1>");
				}
			},
			"error" : function(xmlhttp , errorText){

				Ulog.i(xmlhttp);
				Ulog.i(errorText);

				Ulog.i("xmlhttp",JSON.stringify(xmlhttp));
				Ulog.i("errorText",JSON.stringify(errorText));

				if(xmlhttp.status == "405"){
					alert("无效的请求方式");
				}else if(xmlhttp.status == "404"){
					alert("未找到URL资源");
				}else if(xmlhttp.status == "500"){
					alert("服务器内部错误，请联系管理员");
				}else{
					alert("产生异常，请联系管理员");
				}
			}
			
		})
	})
</script>
</head>
<body>
	<div id="container"></div>
</body>
</html>